<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">
      
    <h:head>
        <title>Medical Online</title>
    </h:head>
    <h:body style="padding: 60px;">
        <b:navBar brand="Medical Online" brandHref="#{request.contextPath}/index.xhtml" fixed="top" inverse="true">
            <b:navbarLinks>
                <b:navLink value="Home page" href="#{request.contextPath}/index.xhtml"></b:navLink>
                <b:navLink value="Create appointment" href="#{request.contextPath}/userFilter/create.xhtml"></b:navLink>   
                <b:dropMenu value="Appointments lists" contentDisabled="#{navBarBean.dropMenuDisabled}">
			        <b:navLink value="Yours appointments" href="#{request.contextPath}/userFilter/yappointments.xhtml"></b:navLink>  
			        <b:navLink value="Pending appointments" href="#{request.contextPath}/userFilter/pendingappointments.xhtml"></b:navLink>  
			        <b:navLink value="Yours future appointments" href="#{request.contextPath}/userFilter/futureappointments.xhtml"></b:navLink>  			        
			    </b:dropMenu>                     
                <b:navLink value="Centers list" href="#{request.contextPath}/userFilter/centers.xhtml"></b:navLink>             
                <b:dropMenu value="User settings" contentDisabled="#{navBarBean.dropMenuDisabled}">
			        <b:navLink value="Edit profile" href="#{request.contextPath}/userFilter/editprofile.xhtml"></b:navLink>
                	<b:navLink value="Change password" href="#{request.contextPath}/userFilter/changepass.xhtml"></b:navLink>                
               		<b:navLink value="Logout" href="#{request.contextPath}/userFilter/logout.xhtml"></b:navLink>
			    </b:dropMenu>                                
            </b:navbarLinks>
        </b:navBar>

		<b:container>
			<b:jumbotron>
				<h3>Hello, you are now logged in as: <i><h:outputText value="#{profileBean.userDTO.username}" escape="true"/></i>!
				</h3>
			</b:jumbotron>
		</b:container>
		<b:container>
			<b:jumbotron>
				<h:form styleClass="form-signin" prependId="false">
	                <div align="center">
	                	<h3>Create a new appointment</h3>
	                </div>
	                <br/>
	                <b:selectOneMenu value="#{appointmentBean.appointmentDTO.centerID}" required="true" label="Choose center">
						<f:selectItems value="#{centerBean.centers}" var="center" itemValue="#{center.idcenter}" itemLabel="#{center.centerName}" />
						<f:facet name="prepend">
	                        <b:icon name="pencil" />
	                    </f:facet>
				    </b:selectOneMenu>
	                
	                <b:dateTimePicker placeholder="Date of apppointment" required="true" label="Date of apppointment" 
	                				value="#{appointmentBean.appointmentDTO.appointmentDate}"
				                    allow-input-toggle="true"
				                    icon-position="left"
				                    side-by-side="true"
				                    show-date="true"
				                    show-time="true"
				                    show-icon="true"
				                    use-current="true"/>	                        	                
	                                
	                <b:selectOneMenu value="#{appointmentBean.appointmentDTO.type}" required="true" label="Appointment type:">
				      <f:selectItem itemLabel="(Please select)" itemValue="" />
				      <f:selectItem itemLabel="covid-19 test" itemValue="1" />
				      <f:selectItem itemLabel="covid-19 vaccine" itemValue="2" />
				      <f:selectItem itemLabel="health control" itemValue="3" />
				      <f:facet name="prepend">
	                        <b:icon name="open-file" />
	                    </f:facet>
				    </b:selectOneMenu>
				    
	                <hr/>
	                <b:commandButton look="success btn-block" value="Submit appointment" icon="log-in" size="lg" action="#{appointmentBean.createAppointment}" />
	                <b:messages infoStyle="color:darkgreen" errorStyle="color:darkred"></b:messages>
	            </h:form>
	            <br/>
			</b:jumbotron>
        </b:container>			
    </h:body>
</html>